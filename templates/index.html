<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Sistem Pakar Diagnosa Laptop</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <header>
        <h1>Sistem Pakar Diagnosa Laptop</h1>
        <p class="subtitle">Hybrid Machine Learning & Certainty Factor</p>
    </header>

    <main>
        <form method="POST" class="diagnosis-form">
            <div class="form-group">
                <label for="tegangan">Tegangan (Volt)</label>
                <input type="number" step="0.1" name="tegangan" id="tegangan" required>
            </div>

            <div class="form-group">
                <label for="suhu">Suhu Laptop (¬∞C)</label>
                <input type="number" name="suhu" id="suhu" required>
            </div>

            <div class="form-group">
                <label for="kipas">Status Kipas</label>
                <select name="kipas" id="kipas">
                    <option value="Normal">Normal</option>
                    <option value="Mati">Mati</option>
                </select>
            </div>

            <div class="form-group">
                <label for="battery">Battery Health</label>
                <select name="battery" id="battery">
                    <option value="Good">Good</option>
                    <option value="Normal">Normal</option>
                    <option value="Poor">Poor</option>
                    <option value="Bad">Bad</option>
                </select>
            </div>

            <div class="form-group">
                <label for="power">Power Rail</label>
                <select name="power" id="power">
                    <option value="Stable">Stable</option>
                    <option value="Unstable">Unstable</option>
                    <option value="Failed">Failed</option>
                </select>
            </div>

            <div class="form-group">
                <label for="beep">Beep Code</label>
                <select name="beep" id="beep">
                    <option value="None">None</option>
                    <option value="Short">Short</option>
                    <option value="Long">Long</option>
                    <option value="Continuous">Continuous</option>
                </select>
            </div>

            <button type="submit" class="btn-submit">üîç Diagnosa Sekarang</button>
        </form>

        {% if hasil %}
        <div class="result">
            <h2>üìä Hasil Diagnosa</h2>
            <p><b>Prediksi Machine Learning:</b>
                <span class="badge badge-info">{{ hasil.pred }} ({{ hasil.prob }})</span>
            </p>

            <h3>Certainty Factor</h3>
            <ul>
                {% for k, v in hasil.cf.items() %}
                <li>{{ k }} : {{ "%.2f"|format(v) }}</li>
                {% endfor %}
            </ul>

            <h3>Skor Akhir (Hybrid)</h3>
            <ul>
                {% for k, v in hasil.final.items() %}
                <li>{{ k }} : {{ "%.2f"|format(v) }}</li>
                {% endfor %}
            </ul>

            <h2>
                ‚ö†Ô∏è Kesimpulan:
                <span class="badge badge-danger">{{ hasil.diagnosis }}</span>
            </h2>
        </div>
        {% endif %}
    </main>

    <footer>
        ¬© 2025 | Sistem Pakar Diagnosa Kerusakan Laptop ‚Äì TA Kecerdasan Buatan
    </footer>
</div>

</body>
</html>
